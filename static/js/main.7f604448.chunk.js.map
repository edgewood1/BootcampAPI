{"version":3,"sources":["API.js","components/login.js","App.js","index.js"],"names":["login","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","email","password","response","wrap","_context","prev","next","axios","post","url","sent","data","success","authenticationInfo","authToken","abrupt","token","errorCode","error","console","warn","stop","_x","_x2","apply","this","arguments","Login","state","loading","handleSubmit","event","preventDefault","_this$state","_this","API","then","log","setState","_event$target","target","name","value","defineProperty","_this2","react_default","createElement","onSubmit","type","onChange","e","handleChange","Component","App","components_login","ReactDOM","render","src_App","document","getElementById"],"mappings":"6PAyBeA,EApBJ,eAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAC,EAAOC,EAAOC,GAAd,IAAAC,EAAA,OAAAN,EAAAC,EAAAM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACWC,IAAMC,KAAKC,mDAAgB,CAAET,QAAOC,aAD/C,UACNC,EADME,EAAAM,KAGA,OAEVR,EAASS,OACiB,IAA1BT,EAASS,KAAKC,SACdV,EAASS,KAAKE,oBACdX,EAASS,KAAKE,mBAAmBC,WARvB,CAAAV,EAAAE,KAAA,eAAAF,EAAAW,OAAA,SAUH,CAAEC,MAAOd,EAASS,KAAKE,mBAAmBC,YAVvC,UAYF,kBACJZ,GAAYA,EAASS,MAAQT,EAASS,KAAKM,WAbrC,CAAAb,EAAAE,KAAA,gBAAAF,EAAAW,OAAA,SAcD,CAAEG,MAAOhB,EAASS,KAAKM,YAdtB,QAgBVE,QAAQC,KAAKlB,GAhBH,yBAAAE,EAAAiB,SAAAtB,MAAH,gBAAAuB,EAAAC,GAAA,OAAA9B,EAAA+B,MAAAC,KAAAC,YAAA,GCyDIC,6MA1DbC,MAAQ,CACN5B,MAAO,GACPC,SAAU,GACV4B,SAAS,EACTX,MAAO,QAUTY,aAAe,SAAAC,GACbA,EAAMC,iBADgB,IAAAC,EAEMC,EAAKN,MAAzB5B,EAFciC,EAEdjC,MAAOC,EAFOgC,EAEPhC,SACfkC,EAAInC,EAAOC,GAAUmC,KAAK,SAAAzB,GACxBQ,QAAQkB,IAAI1B,GACRA,EAAKK,MACPkB,EAAKI,SAAS,CAAET,SAAS,EAAMX,MAAO,OAEtCgB,EAAKI,SAAS,CAAET,SAAS,EAAOX,MAAOP,EAAKO,uFAfrCa,GAAO,IAAAQ,EACMR,EAAMS,OAAtBC,EADUF,EACVE,KAAMC,EADIH,EACJG,MACdjB,KAAKa,SAAL5C,OAAAiD,EAAA,EAAAjD,CAAA,GACG+C,EAAOC,qCAiBH,IAAAE,EAAAnB,KACP,OACEoB,EAAAhD,EAAAiD,cAAA,WACED,EAAAhD,EAAAiD,cAAA,QAAMC,SAAUtB,KAAKK,cACnBe,EAAAhD,EAAAiD,cAAA,sBAEED,EAAAhD,EAAAiD,cAAA,SACEE,KAAK,OACLP,KAAK,QACLC,MAAOjB,KAAKG,MAAM5B,MAClBiD,SAAU,SAAAC,GAAC,OAAIN,EAAKO,aAAaD,OAGrCL,EAAAhD,EAAAiD,cAAA,yBAEED,EAAAhD,EAAAiD,cAAA,SACEE,KAAK,OACLP,KAAK,WACLC,MAAOjB,KAAKG,MAAM3B,SAClBgD,SAAU,SAAAC,GAAC,OAAIN,EAAKO,aAAaD,OAIrCL,EAAAhD,EAAAiD,cAAA,SAAOE,KAAK,SAASN,MAAM,YAE5BjB,KAAKG,MAAMC,QAAUgB,EAAAhD,EAAAiD,cAAA,sBAAmBD,EAAAhD,EAAAiD,cAAA,8BArD7BM,aCMLC,mLAJX,OAAOR,EAAAhD,EAAAiD,cAACQ,EAAD,aAFOF,aCElBG,IAASC,OAAOX,EAAAhD,EAAAiD,cAACW,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.7f604448.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst url = \"https://bootcampspot.com/api/instructor/v1\";\n\n// login takes BCS email and password, then retrieves authToken needed for subsequent API calls\nconst login = async (email, password) => {\n  const response = await axios.post(url + \"/login\", { email, password });\n\n  let error = null;\n  if (\n    response.data &&\n    response.data.success === true &&\n    response.data.authenticationInfo &&\n    response.data.authenticationInfo.authToken\n  ) {\n    return { token: response.data.authenticationInfo.authToken };\n  } else {\n    error = \"Invalid login\";\n    if (response && response.data && response.data.errorCode) {\n      return { error: response.data.errorCode };\n    }\n    console.warn(response);\n  }\n};\n\nexport default login;\n\n// fail\n\n// authenticationInfo: null\n// errorCode: \"INVALID_CREDENTIALS\"\n// resetToken: null\n// success: false\n\n// success\n\n// active: true\n// authToken: \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjE4MTAzLCJtaW51dGVzVGltZW91dCI6NjAsImNyZWF0aW9uVGltZSI6IjIwMTktMDQtMTZUMTM6NTE6MTguOTA1OTU3NjcyWiJ9.dXpn-WpD4EyDdhqPhSNpe9wWmyk2R4xGbv000CDfm8c\"\n// firstLogin: false\n// userId: 18103\n","import React, { Component } from \"react\";\nimport API from \"../API.js\";\n\nclass Login extends Component {\n  state = {\n    email: \"\",\n    password: \"\",\n    loading: false,\n    error: null\n  };\n\n  handleChange(event) {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const { email, password } = this.state;\n    API(email, password).then(data => {\n      console.log(data);\n      if (data.token) {\n        this.setState({ loading: true, error: null });\n      } else {\n        this.setState({ loading: false, error: data.error });\n      }\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <form onSubmit={this.handleSubmit}>\n          <label>\n            Email:\n            <input\n              type=\"text\"\n              name=\"email\"\n              value={this.state.email}\n              onChange={e => this.handleChange(e)}\n            />\n          </label>\n          <label>\n            Password:\n            <input\n              type=\"text\"\n              name=\"password\"\n              value={this.state.password}\n              onChange={e => this.handleChange(e)}\n            />\n          </label>\n\n          <input type=\"submit\" value=\"Submit\" />\n        </form>\n        {this.state.loading ? <p> Success </p> : <p> Failure </p>}\n      </div>\n    );\n  }\n}\n\nexport default Login;\n","import React, { Component } from \"react\";\nimport Login from \"./components/login\";\n\nclass App extends Component {\n  render() {\n    return <Login />;\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}